# BLUX10K Starship Configuration v4.0.0
# Repository: https://github.com/Justadudeinspace/blux10k
#
# Usage:
#   - Copy or symlink this file to: ~/.config/starship.toml
#   - Enable Starship in your shell (e.g., `eval "$(starship init zsh)"`)
#   - Re-run the installer with --prompt=starship to make BLUX10K load Starship.

# ===========================================================================
# PERFORMANCE & SECURITY SETTINGS
# ===========================================================================

# Performance optimization
scan_timeout = 30  # Reduced from default 30s
command_timeout = 500  # ms
min_time = 2_000  # Show duration for commands >2s

# Security settings
show_traceback = false  # Don't show tracebacks in production
allow_unsafe_commands = false  # Only allow safe commands

# Debug mode (BLUX10K integration)
[env_var]
BLUX10K_DEBUG = false  # Set to true for debugging

# ===========================================================================
# GLOBAL FORMAT CONFIGURATION - BLUX10K ENHANCED
# ===========================================================================

# Main prompt format with BLUX10K styling
format = """
[â–‘â–’â–“](#3B4252)\
$username\
$hostname\
$directory\
$git_branch\
$git_status\
$git_state\
$git_metrics\
$nix_shell\
$conda\
$python\
$nodejs\
$rust\
$golang\
$php\
$java\
$lua\
$docker_context\
$kubernetes\
$aws\
$gcloud\
$azure\
$openstack\
$terraform\
$pulumi\
$cmake\
$package\
$memory_usage\
$sudo\
$env_var\
$cmd_duration\
$line_break\
$custom.blux10k\
$custom.k8s_context\
$custom.docker_status\
$custom.system_info\
$custom.terminal_info\
$custom.uptime\
$custom.git_enhanced\
$custom.path_info\
$custom.cpu_load\
$custom.disk_usage\
$custom.network_status\
$jobs\
$battery\
$time\
[â–‘â–’â–“](#3B4252)\
$character"""

# Right prompt format (experimental - performance optimized)
right_format = """
$custom.performance\
$custom.security\
$custom.resource_monitor\
$cmd_duration\
$jobs\
$battery\
$time"""

# Add blank space before prompt
add_newline = true

# ===========================================================================
# PERFORMANCE OPTIMIZED MODULES
# ===========================================================================

# Disable rarely used modules for performance
[package]
disabled = true

[buf]
disabled = true

[crystal]
disabled = true

[dart]
disabled = true

[deno]
disabled = true

[dotnet]
disabled = true

[elixir]
disabled = true

[elm]
disabled = true

[erlang]
disabled = true

[haskell]
disabled = true

[haxe]
disabled = true

[julia]
disabled = true

[kotlin]
disabled = true

[nim]
disabled = true

[ocaml]
disabled = true

[perl]
disabled = true

[purescript]
disabled = true

[rlang]
disabled = true

[red]
disabled = true

[scala]
disabled = true

[swift]
disabled = true

[vagrant]
disabled = true

[zig]
disabled = true

# ===========================================================================
# CORE MODULES - BLUX10K ENHANCED
# ===========================================================================

# Username module with security indicators
[username]
format = '[$user]($style)'
show_always = false
style_user = 'bold blue'
style_root = 'bold red'
disabled = false

# Hostname module with SSH detection
[hostname]
ssh_only = true
format = '[@$hostname]($style) '
trim_at = '.'
style = 'bold yellow'
disabled = false

# Directory module with smart truncation
[directory]
format = '[ $path ]($style)'
truncation_length = 4
truncation_symbol = 'â€¦/'
home_symbol = '~'
read_only_style = 'bold red'
read_only = ' ï€£'
style = 'bold cyan'

[directory.substitutions]
'Documents' = 'ïœ˜ '
'Downloads' = 'ï€™ '
'Music' = 'ï€ '
'Pictures' = 'ï€¾ '
'Videos' = 'ï€½ '
'Projects' = 'ï '
'Work' = 'ðŸ’¼ '
'Git' = 'ïž¡ '
'Src' = 'ï„¡ '
'Source' = 'ï„¡ '
'.config' = 'ï€“ '
'.local' = 'îˆ '
'.cache' = 'ï ± '
'.ssh' = 'ðŸ” '
'.gnupg' = 'ðŸ”‘ '
'.docker' = 'ðŸ³ '
'.kube' = 'âŽˆ '
'node_modules' = 'ðŸ“¦ '
'venv' = 'ðŸ '
'.venv' = 'ðŸ '
'.git' = 'ïž¡ '

# Git Branch module
[git_branch]
format = '[ $symbol$branch ]($style)'
symbol = 'ï˜ '
truncation_length = 30
truncation_symbol = 'â€¦'
style = 'bold purple'

# Git Status module
[git_status]
format = '([$all_status$ahead_behind]($style))'
conflicted = 'ðŸ³'
ahead = 'â‡¡${count}'
behind = 'â‡£${count}'
diverged = 'â‡•'
untracked = '?${count}'
stashed = 'ðŸ“¦'
modified = '!${count}'
staged = '+${count}'
renamed = 'Â»${count}'
deleted = 'âœ˜${count}'
style = 'bold green'

# Git State module
[git_state]
format = '([$state( $progress_current/$progress_total)]($style))'
cherry_pick = '[ðŸ’ PICKING](bold red)'
rebase = '[â†© REBASING](bold yellow)'
merge = '[ðŸ”„ MERGING](bold magenta)'
revert = '[â†© REVERTING](bold cyan)'

# Git Metrics module
[git_metrics]
added_style = 'bold green'
deleted_style = 'bold red'
disabled = false
only_nonzero_diffs = true

# ===========================================================================
# LANGUAGE & FRAMEWORK MODULES
# ===========================================================================

# Python module with virtualenv support
[python]
format = '[ðŸ $version $virtualenv]($style)'
python_binary = ['python', 'python3', 'py']
symbol = 'Py '
style = 'bold yellow'
disabled = false

# Node.js module
[nodejs]
format = '[â¬¢ $version]($style)'
symbol = 'Node '
style = 'bold green'
disabled = false

# Rust module
[rust]
format = '[ðŸ¦€ $version]($style)'
symbol = 'Rs '
style = 'bold red'
disabled = false

# Go module
[golang]
format = '[ðŸ¹ $version]($style)'
symbol = 'Go '
style = 'bold cyan'
disabled = false

# Java module
[java]
format = '[â˜• $version]($style)'
symbol = 'Java '
style = 'bold magenta'
disabled = false

# PHP module
[php]
format = '[ðŸ˜ $version]($style)'
symbol = 'PHP '
style = 'bold blue'
disabled = false

# ===========================================================================
# CLOUD & INFRASTRUCTURE MODULES
# ===========================================================================

# AWS module with profile and region
[aws]
format = '[$symbol($profile)(\($region\))]($style)'
symbol = 'â˜ï¸  '
style = 'bold yellow'
disabled = false

[aws.region_aliases]
ap-southeast-2 = 'au'
us-east-1 = 'va'
us-west-2 = 'or'
eu-west-1 = 'ie'
ap-northeast-1 = 'jp'

# Azure module
[azure]
format = '[$symbol($subscription)]($style)'
symbol = 'ï´ƒ '
style = 'blue'
disabled = false

# Google Cloud module
[gcloud]
format = '[$symbol$account(@$domain)(\($region\))]($style)'
symbol = 'îž² '
style = 'bold blue'
disabled = false

# Kubernetes module
[kubernetes]
format = '[â˜¸ $context \($namespace\)]($style)'
symbol = 'âŽˆ '
style = 'bold cyan'
disabled = false

# Docker Context module
[docker_context]
format = '[ðŸ³ $context]($style)'
symbol = ''
style = 'blue'
disabled = false

# Terraform module
[terraform]
format = '[ðŸ’  $workspace]($style)'
symbol = 'TF '
style = 'bold magenta'
disabled = false

# ===========================================================================
# SYSTEM & PERFORMANCE MODULES
# ===========================================================================

# Battery module
[battery]
full_symbol = 'ðŸ”‹'
charging_symbol = 'âš¡ï¸'
discharging_symbol = 'ðŸ’€'
disabled = false
format = '[$symbol$percentage]($style)'
style = 'bold yellow'

[memory_usage]
format = '[$symbol($usage | $swap)]($style)'
threshold = 85
symbol = 'ðŸ '
style = 'bold white'
disabled = false

# Command Duration module
[cmd_duration]
format = '[$duration]($style)'
min_time = 2_000
show_milliseconds = false
style = 'yellow'
disabled = false

# Jobs module
[jobs]
symbol = 'âœ¦'
threshold = 1
format = '[$symbol$number]($style)'
style = 'bold green'
disabled = false

# Time module
[time]
format = '[$time]($style)'
disabled = false
time_format = '%H:%M:%S'
utc_time_offset = 'local'
time_range = '-'
style = 'bold dimmed'

# Character module (prompt symbol)
[character]
error_symbol = '[âœ—](bold red)'
success_symbol = '[âžœ](bold green)'
vicmd_symbol = '[V](bold yellow)'
format = '$symbol '
disabled = false

# ===========================================================================
# BLUX10K CUSTOM MODULES - ENHANCED
# ===========================================================================

# BLUX10K System Indicator
[custom.blux10k]
command = 'echo "BLUX10K v4.0.0"'
when = 'true'
format = '[ðŸ…‘ $output]($style)'
style = 'bold blue'
description = 'BLUX10K System Indicator'
shell = ['bash', 'zsh', 'fish']
interval = 3600  # Update every hour

# Kubernetes Context (Enhanced)
[custom.k8s_context]
command = '''
  if command -v kubectl >/dev/null 2>&1; then
    context=$(kubectl config current-context 2>/dev/null)
    if [ -n "$context" ]; then
      namespace=$(kubectl config view --minify --output 'jsonpath={..namespace}' 2>/dev/null)
      if [ -n "$namespace" ] && [ "$namespace" != "default" ]; then
        # Color coding based on context name
        if [[ "$context" == *prod* ]] || [[ "$context" == *production* ]]; then
          echo "âŽˆ $context ($namespace)"
        elif [[ "$context" == *stag* ]] || [[ "$context" == *staging* ]]; then
          echo "ðŸŸ¡ $context ($namespace)"
        elif [[ "$context" == *dev* ]] || [[ "$context" == *development* ]]; then
          echo "ðŸŸ¢ $context ($namespace)"
        elif [[ "$context" == *minikube* ]] || [[ "$context" == *docker-desktop* ]]; then
          echo "ðŸŸ£ $context ($namespace)"
        else
          echo "âŽˆ $context ($namespace)"
        fi
      else
        echo "âŽˆ $context"
      fi
    fi
  fi
'''
when = 'command -v kubectl >/dev/null 2>&1'
format = '[$output]($style)'
style = 'bold cyan'
description = 'Kubernetes Context'
shell = ['bash', 'zsh']
interval = 10  # Update every 10 seconds

# Docker Status (Enhanced)
[custom.docker_status]
command = '''
  if command -v docker >/dev/null 2>&1; then
    if docker info >/dev/null 2>&1; then
      containers=$(docker ps -q | wc -l)
      if [ "$containers" -gt 0 ]; then
        echo "ðŸ³ Running ($containers containers)"
      else
        echo "ðŸ³ Ready"
      fi
    else
      echo "ðŸ³ Stopped"
    fi
  fi
'''
when = 'command -v docker >/dev/null 2>&1'
format = '[$output]($style)'
style = 'bold blue'
description = 'Docker Status'
shell = ['bash', 'zsh']
interval = 10

# System Info (Enhanced)
[custom.system_info]
command = '''
  if [[ "$(uname)" == "Darwin" ]]; then
    echo "ðŸŽ $(sw_vers -productVersion)"
  elif [[ -f /etc/os-release ]]; then
    . /etc/os-release
    if [[ -n "$PRETTY_NAME" ]]; then
      echo "ðŸ§ $PRETTY_NAME"
    else
      echo "ðŸ§ $NAME"
    fi
  elif [[ "$(uname)" == "Linux" ]]; then
    if command -v lsb_release >/dev/null 2>&1; then
      echo "ðŸ§ $(lsb_release -ds)"
    else
      echo "ðŸ§ $(uname -o)"
    fi
  else
    echo "ðŸ’» $(uname -s)"
  fi
'''
when = 'true'
format = '[$output]($style)'
style = 'bold yellow'
description = 'Operating System'
shell = ['bash', 'zsh']
interval = 3600

# Terminal Info
[custom.terminal_info]
command = '''
  if [[ -n "$ITERM_SESSION_ID" ]]; then
    echo "iTerm2"
  elif [[ "$TERM_PROGRAM" == "vscode" ]]; then
    echo "VSCode"
  elif [[ -n "$KITTY_WINDOW_ID" ]]; then
    echo "Kitty"
  elif [[ -n "$ALACRITTY_WINDOW_ID" ]]; then
    echo "Alacritty"
  elif [[ "$TERM" == "tmux"* ]]; then
    echo "tmux"
  elif [[ -n "$TMUX" ]]; then
    echo "tmux"
  else
    echo "${TERM:-unknown}"
  fi
'''
when = 'true'
format = '[ðŸ–¥ $output]($style)'
style = 'bold magenta'
description = 'Terminal Type'
shell = ['bash', 'zsh']
interval = 30

# System Uptime (Performance Optimized)
[custom.uptime]
command = '''
  if [[ "$(uname)" == "Darwin" ]]; then
    uptime | awk -F'( |,|:)+' '{
      if ($6=="min") printf "%s min", $5;
      else if ($7=="min") printf "%s min", $6;
      else if ($6~/^day/) printf "%s days", $5;
      else if ($7~/^day/) printf "%s days", $6;
      else if ($8=="sec") printf "%s sec", $7;
      else printf "%s:%s hrs", $6, $7
    }'
  else
    uptime -p | sed "s/up //; s/ days\?/d/; s/ hours\?/h/; s/ minutes\?/m/; s/^ *//"
  fi
'''
when = 'true'
format = '[â± $output]($style)'
style = 'bold green'
description = 'System Uptime'
shell = ['bash', 'zsh']
interval = 60

# Enhanced Git Information
[custom.git_enhanced]
command = '''
  if git rev-parse --git-dir > /dev/null 2>&1; then
    branch=$(git symbolic-ref --short HEAD 2>/dev/null || git describe --tags --exact-match 2>/dev/null || git rev-parse --short HEAD)
    changes=$(git status --porcelain 2>/dev/null | wc -l)
    if [ "$changes" -gt 0 ]; then
      echo "$branch âœŽ"
    else
      echo "$branch âœ“"
    fi
  fi
'''
when = 'git rev-parse --git-dir > /dev/null 2>&1'
format = '[$output]($style)'
style = 'bold cyan'
description = 'Enhanced Git Status'
shell = ['bash', 'zsh']
interval = 5

# Path Information
[custom.path_info]
command = '''
  pwd | sed "s|^$HOME|~|" | awk -F/ '{
    if (NF <= 3) print $0;
    else print ".../" $(NF-1) "/" $(NF)
  }'
'''
when = 'true'
format = '[ðŸ“ $output]($style)'
style = 'bold blue'
description = 'Smart Path Display'
shell = ['bash', 'zsh']
interval = 1

# CPU Load
[custom.cpu_load]
command = '''
  if [[ "$(uname)" == "Darwin" ]]; then
    sysctl -n vm.loadavg | awk '{printf "%.2f %.2f %.2f", $2, $3, $4}'
  else
    awk '{printf "%.2f %.2f %.2f", $1, $2, $3}' /proc/loadavg
  fi
'''
when = 'true'
format = '[âš¡ $output]($style)'
style = 'bold yellow'
description = 'CPU Load Average'
shell = ['bash', 'zsh']
interval = 10

# Disk Usage
[custom.disk_usage]
command = '''
  df -h / | awk "NR==2 {print \$4 \" free\"}"
'''
when = 'true'
format = '[ðŸ’¾ $output]($style)'
style = 'bold magenta'
description = 'Disk Usage'
shell = ['bash', 'zsh']
interval = 30

# Network Status
[custom.network_status]
command = '''
  if ping -c 1 -W 1 8.8.8.8 >/dev/null 2>&1; then
    echo "ðŸŒ Online"
  else
    echo "ðŸŒ Offline"
  fi
'''
when = 'true'
format = '[$output]($style)'
style = 'bold green'
description = 'Network Status'
shell = ['bash', 'zsh']
interval = 30

# ===========================================================================
# PERFORMANCE MONITORING MODULES
# ===========================================================================

[custom.performance]
command = '''
  if [[ -n "$BLUX10K_DEBUG" ]]; then
    echo "âš¡ $(($(date +%s%N) - ${BLUX10K_START_TIME:-0} | awk "{printf \"%.1fms\", \$1/1000000}"))"
  fi
'''
when = '[[ -n "$BLUX10K_DEBUG" ]]'
format = '[$output]($style)'
style = 'bold cyan'
description = 'Shell Performance'
shell = ['zsh', 'bash']
interval = 1

[custom.resource_monitor]
command = '''
  mem=$(free -m | awk "NR==2 {printf \"%.1fG\", \$3/1024}")
  load=$(awk "{printf \"%.2f\", \$1}" /proc/loadavg 2>/dev/null || echo "N/A")
  echo "$mem RAM â€¢ $load Load"
'''
when = '[[ -f /proc/loadavg ]]'
format = '[$output]($style)'
style = 'bold white'
description = 'Resource Monitor'
shell = ['bash', 'zsh']
interval = 10

# Security Status Module
[custom.security]
command = '''
  if [[ -n "$SSH_CONNECTION" ]]; then
    echo "ðŸ” SSH"
  elif [[ -n "$BLUX10K_SECURITY_MODE" ]]; then
    echo "ðŸ›¡ï¸ $BLUX10K_SECURITY_MODE"
  else
    echo "ðŸ”“ Standard"
  fi
'''
when = 'true'
format = '[$output]($style)'
style = 'bold yellow'
description = 'Security Status'
shell = ['bash', 'zsh']
interval = 30

# ===========================================================================
# BLUX10K INTEGRATION MODULES
# ===========================================================================

# BLUX10K Update Status
[custom.blux10k_update_status]
command = '''
  last_update=$(stat -c %Y ~/.cache/blux10k/last_update 2>/dev/null || echo 0)
  now=$(date +%s)
  days_since=$(( (now - last_update) / 86400 ))
  if [ $days_since -gt 7 ]; then
    echo "ðŸ”„ $days_since days"
  fi
'''
when = '[[ -f ~/.cache/blux10k/last_update ]]'
format = '[$output]($style)'
style = 'bold yellow'
description = 'BLUX10K Update Status'
shell = ['bash', 'zsh']
interval = 3600

# Plugin Manager Status
[custom.plugin_manager]
command = '''
  if [[ -d ~/.local/share/zinit ]]; then
    count=$(find ~/.local/share/zinit/plugins -maxdepth 2 -type d 2>/dev/null | wc -l)
    echo "Zinit ($((count/2)))"
  elif [[ -d ~/.zplug ]]; then
    count=$(zplug list --installed 2>/dev/null | wc -l)
    echo "Zplug ($count)"
  elif [[ -d ~/.zgenom ]]; then
    echo "Zgenom"
  else
    echo "No PM"
  fi
'''
when = 'true'
format = '[$output]($style)'
style = 'bold magenta'
description = 'Plugin Manager'
shell = ['zsh']
interval = 3600

# Shell Performance
[custom.shell_performance]
command = '''
  if [[ -n "$_total_startup_time" ]]; then
    echo "ðŸš€ ${_total_startup_time}ms"
  fi
'''
when = '[[ -n "$_total_startup_time" ]]'
format = '[$output]($style)'
style = 'bold green'
description = 'Shell Startup Time'
shell = ['zsh']
interval = 3600

# ===========================================================================
# PALETTE & THEME - BLUX10K v4.0.0
# ===========================================================================

[palette]
# BLUX10K Nord-inspired color scheme
primary = "3B4252"    # Polar Night (dark blue-gray)
secondary = "434C5E"   # Polar Night (medium blue-gray)
accent = "4C566A"     # Polar Night (light blue-gray)
background = "2E3440"  # Polar Night (darkest)
foreground = "D8DEE9"  # Snow Storm (light gray)

# Status colors
success = "A3BE8C"    # Aurora (green)
warning = "EBCB8B"    # Aurora (yellow)
error = "BF616A"      # Aurora (red)
info = "81A1C1"       # Frost (blue)
highlight = "88C0D0"   # Frost (cyan)
muted = "616E88"      # Polar Night (muted gray)

# Language-specific colors
python = "FFD43B"     # Python yellow
nodejs = "339933"     # Node.js green
rust = "DEA584"       # Rust orange
golang = "00ADD8"     # Go cyan
java = "007396"       # Java blue
php = "777BB4"        # PHP purple

# Cloud colors
aws = "FF9900"        # AWS orange
azure = "0078D4"      # Azure blue
gcloud = "4285F4"     # Google blue
kubernetes = "326CE5" # Kubernetes blue

# ===========================================================================
# STYLES & FORMATTING
# ===========================================================================

# Global style configuration
[style]
# Default styles for modules
success = "bold green"
warning = "bold yellow"
error = "bold red"
info = "bold blue"
muted = "dimmed"

# Module-specific style overrides
[git_branch.style]
default = "bold purple"
detached = "bold red"

[git_status.style]
conflicted = "bold red"
ahead = "bold yellow"
behind = "bold yellow"
diverged = "bold red"
untracked = "bold green"
stashed = "bold cyan"
modified = "bold yellow"
staged = "bold green"
renamed = "bold magenta"
deleted = "bold red"

[directory.style]
default = "bold cyan"
read_only = "bold red"
home = "bold blue"

[username.style]
user = "bold blue"
root = "bold red"

[hostname.style]
default = "bold yellow"
ssh = "bold green"

# ===========================================================================
# ADVANCED CONFIGURATION
# ===========================================================================

# Conditional module loading
[conditional]
# Only show certain modules in specific directories
[conditional.docker_context]
condition = '[[ -f "Dockerfile" || -f "docker-compose.yml" || -d ".docker" ]]'
format = '[$symbol$context]($style)'

[conditional.kubernetes]
condition = '[[ -f "kustomization.yaml" || -f "*.yaml" =~ "apiVersion:" || -d "k8s" ]]'
format = '[$symbol$context \($namespace\)]($style)'

[conditional.python]
condition = '[[ -f "requirements.txt" || -f "pyproject.toml" || -f "setup.py" || -d "venv" || -d ".venv" ]]'
format = '[$symbol$version $virtualenv]($style)'

[conditional.nodejs]
condition = '[[ -f "package.json" || -f "yarn.lock" || -f "package-lock.json" ]]'
format = '[$symbol$version]($style)'

# Environment variable filters
[env_var.filters]
# Filter out sensitive environment variables
BLUX10K_SECRET = ".*"
API_KEY = ".*"
SECRET = ".*"
TOKEN = ".*"
PASSWORD = ".*"

# ===========================================================================
# BLUX10K PERFORMANCE PROFILES
# ===========================================================================

# Performance profile selection
[profiles]
# Minimal profile for slow systems
[profiles.minimal]
modules = [
  "username",
  "hostname",
  "directory",
  "git_branch",
  "git_status",
  "character"
]
disabled = [
  "memory_usage",
  "battery",
  "time",
  "custom"
]

# Standard profile (default)
[profiles.standard]
modules = [
  "username",
  "hostname",
  "directory",
  "git_branch",
  "git_status",
  "git_state",
  "python",
  "nodejs",
  "rust",
  "golang",
  "docker_context",
  "kubernetes",
  "cmd_duration",
  "jobs",
  "battery",
  "time",
  "custom.blux10k",
  "custom.k8s_context",
  "character"
]

# Full profile for debugging
[profiles.full]
modules = "*"  # All modules
scan_timeout = 60
command_timeout = 1000

# Apply profile based on system performance
if [[ $(nproc) -lt 4 ]] || [[ $(free -m | awk '/^Mem:/ {print $2}') -lt 4000 ]]; then
  profile = "minimal"
elif [[ -n "$BLUX10K_DEBUG" ]]; then
  profile = "full"
else
  profile = "standard"
fi

# ===========================================================================
# INTEGRATION WITH BLUX10K SYSTEM
# ===========================================================================

# BLUX10K environment integration
[integration.blux10k]
# Sync with BLUX10K configuration
config_path = "$HOME/.config/blux10k/starship.toml"
auto_sync = true
sync_interval = 300  # 5 minutes

# Shell integration
[integration.shell]
zsh = {
  precmd_hook = "true",
  preexec_hook = "true",
  prompt_char = "true"
}
bash = {
  precmd_hook = "true",
  preexec_hook = "true"
}
fish = {
  precmd_hook = "true",
  preexec_hook = "true"
}

# Terminal integration
[integration.terminal]
# Support for various terminals
hyper = true
iterm2 = true
alacritty = true
kitty = true
tmux = true

# ===========================================================================
# FINAL CONFIGURATION
# ===========================================================================

# Configuration validation
[validation]
check_command_timeout = true
check_unsafe_commands = true
validate_paths = true

# Error handling
[error]
log_file = "$HOME/.cache/starship/error.log"
max_log_size = "10MB"
log_level = "warn"

# Cache configuration
[cache]
enabled = true
directory = "$HOME/.cache/starship"
max_size = "100MB"
cleanup_interval = 3600

# ===========================================================================
# BLUX10K SPECIFIC COMMANDS
# ===========================================================================

# Command to switch profiles
[custom.profile_switch]
command = '''
  current_profile=$(starship explain --profile 2>/dev/null | grep "Profile:" | awk "{print \$2}" || echo "standard")
  if [[ "$current_profile" == "minimal" ]]; then
    echo "standard"
  elif [[ "$current_profile" == "standard" ]]; then
    echo "full"
  else
    echo "minimal"
  fi
'''
when = 'false'  # Disabled by default, enable with keybinding
format = '[$output]($style)'
style = 'bold cyan'
description = 'Switch Starship Profile'

# BLUX10K system health
[custom.blux10k_health]
command = 'echo "$(uptime -p | sed "s/up //") â€¢ $(free -h | awk "/^Mem:/ {print \$3}") used"'
when = '[[ -n "$BLUX10K_DEBUG" ]]'
format = '[ðŸ©º $output]($style)'
style = 'bold green'
description = 'BLUX10K System Health'
shell = ['bash', 'zsh']
interval = 30

echo "ðŸš€ BLUX10K Starship v4.0.0 Configuration Loaded"
echo "ðŸ“Š Profile: $profile"
echo "âš¡ Performance: $(nproc) cores, $(free -h | awk '/^Mem:/ {print $2}') RAM"
